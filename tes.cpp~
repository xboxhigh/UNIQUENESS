#include <iostream>
#include <openssl/sha.h>

using namespace std;

int main()
{
  SHA_CTX s;
  int i, size;
  char c[512];
  unsigned char hash[20];
  strcpy(c, "http://www.cplusplus.com/reference/cstring/strcpy/\n");
  
  cout << c << endl;
  
  size = strlen(c);
        
  SHA1_Init(&s);
  
  
  //while((size = read(0, c, 512)) > 0)
  SHA1_Update(&s, c, size);
  
  cout << "Update finish" << endl;
  SHA1_Final(hash, &s);
  
  cout << s << endl;
                    
  for (i=0; i < 20; i++)
    printf ("%.2x", (int)hash[i]);
  printf ("\n");
  
  return 0;
}

